<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Happy/Sad</title>

        <link href='https://fonts.googleapis.com/css?family=Raleway:400,300,900' rel='stylesheet' type='text/css'>
        <style media="screen">
        /********************************************
                    FACE STYLING
        ********************************************/

        /*Animation code*/
        @keyframes blink {
            0% {
                margin-top: 100px;
                height: 30px;
            }
            5% {
                margin-top: 105px;
                height:25px;
            }
            10% {
                margin-top: 110px;
                height:20px;
            }
            15% {
                margin-top: 115px;
                height:15px;
            }
            20% {
                margin-top: 120px;
                height:10px;
            }
            25% {
                margin-top: 125px;
                height:5px;
            }

            30% {
                margin-top: 121px;
                height:1px;
            }

            35% {
                margin-top: 125px;
                height:5px;
            }

            40% {
                margin-top: 120px;
                height:10px;
            }

            45% {
                margin-top: 115px;
                height:15px;
            }
            50% {
                margin-top: 110px;
                height:20px;
            }
            55% {
                margin-top: 115px;
                height:15px;
            }
            60%{
                margin-top: 120px;
                height:10px;
            }
            65%{
                margin-top: 125px;
                height:5px;
            }
            70%{
                margin-top: 121px;
                height:1px;
            }
            75%{
                margin-top: 125px;
                height:5px;
            }
            80%{
                margin-top: 120px;
                height:10px;
            }
            85%{
                margin-top: 115px;
                height:15px;
            }
            90%{
                margin-top: 110px;
                height:20px;
            }
            95%{
                margin-top: 105px;
                height:25px;
            }
            100% {
                margin-top: 100px;
                height: 30px;
            }
        }

        .eyes {
            margin-top: 100px;
            display: inline-block;
            margin-right: 50px;
            margin-left: 50px;
            width: 30px;
            height: 30px;
            background-color: #FF9933;
            border-radius: 100%;
        }

        #leftEye, #rightEye {
            animation-duration: 1s;
            animation-delay: 2s;
            animation-iteration-count: 1;
            animation-direction: alternate;
            animation-play-state: running;
        }

        .mouth-size {
            font-size: 5em;
        }

        .up:before {
            content: '‚èù';
        }

        .flip-me {
            -ms-transform: rotate(7deg); /* IE 9 */
            -webkit-transform: rotate(7deg); /* Chrome, Safari, Opera */
            transform: rotate(7deg);
        }
        </style>
    </head>
    <body>

            <div class="eyes" id='leftEye'></div>
            <div class="eyes" id='rightEye'></div>

            <div class="mouth">
                <p class='mouth-size up' id=frown></p>
            </div>

            <p id='sad'>
                flip
            </p>
        <script type="text/javascript">
            var eyes_left = document.getElementById('leftEye');
            var eyes_right = document.getElementById('rightEye');
            var mouth = document.getElementById('frown');

            eyes_left.addEventListener('webkitAnimationEnd', function(){
                this.style.webkitAnimationName = '';
            }, false);

            eyes_right.addEventListener('webkitAnimationEnd', function(){
                this.style.webkitAnimationName = '';
            }, false);

            document.getElementById('sad').addEventListener('click', function(){
                alert(mouth.className);
                if(!mouth.className.includes('flip-me')){
                    mouth.className = 'mouth-size up flip-me';
                } else {
                    mouth.className == 'mouth-size up';
                }
            }, false);

            setInterval(function(){
                if(eyes_left.style.webkitAnimationName == ''){
                    eyes_left.style.webkitAnimationName = 'blink';
                    eyes_right.style.webkitAnimationName = 'blink';
                } else {
                    eyes_left.style.webkitAnimationName = '';
                    eyes_right.style.webkitAnimationName = '';
                }


            }, 3000);

        </script>
</html>
